# Project Tooling & Workflow

This document describes the established tools, workflows and best practices for developing our modular restaurant app.  
All developers (currently 2, later 3â€“4) follow these guidelines.

---

## Repositories & Code

- **GitHub** with Protected Branches, CODEOWNERS, PR-templates
- **Monorepo** via **Turborepo** + **pnpm**
- **Branching**: Trunk-based, short feature branches
- **PR-Checks**: typecheck, lint, tests, build must be green
- **CI/CD**: GitHub Actions for Lint, Tests, Build, Deploy, DB-migrations

---

## App & Hosting

- **Next.js 15** (App Router, RSC, Route Handlers)
- **Vercel**: Hosting, Previews, Edge Functions, Env Aliasing
- **Supabase**: Postgres, Auth, Storage, Edge Functions
- **Supabase CLI** + **dbmate** for versioned SQL migrations
- **n8n**: Self-hosted for ETL, Automations, Webhooks

---

## Quality & Testing

- **TypeScript** in strict mode
- **ESLint** + **Prettier** or **Biome**
- **Vitest** for Unit/Integration
- **Playwright** for E2E (against Vercel Preview URLs)
- **Zod** for API/DB schemas
- **lefthook** as Pre-Commit Hook Runner

---

## UI & DX

- **Tailwind CSS** + **shadcn/ui** components
- **Framer Motion** for animations
- **Storybook** optional for components
- **Figma** for Design System
- **Cursor** as AI-powered editor

---

## Observability & Monitoring

- **Sentry** for Errors (Frontend & Backend)
- **OpenTelemetry** for Traces
- **Better Stack Uptime** / **Healthchecks.io** for Cron & Jobs
- **PostHog** for Product Analytics & Feature Flags

---

## Documentation & Knowledge

- **/docs** folder in monorepo with **Nextra**
- **Architecture Decision Records (ADR)** in /adr folder
- **Mermaid** or ERD-SVGs versioned in repo
- **Changesets** for versioning & changelogs

---

## Secrets & Compliance

- **1Password Teams** or **Doppler** for secrets distribution
- **direnv** for local ENV handling
- **SOPS** optional for encrypted configs in repo

---

## Collaboration & PM

- **Linear** for Issues, Roadmap, GitHub-Sync
- **Slack** with GitHub, Linear, Sentry, n8n Alerts
- **Onboarding Playbook** in repo for new devs

---

## Dev Environments

- **Dev Containers** (.devcontainer) with Node, pnpm, Supabase CLI
- **Docker Compose** for n8n, Fake-S3, Mailhog locally
- **Neon** as Branching-DB for Ephemeral Envs in PRs

---

## Safety Net

- **CSP** via Next Middleware
- **2FA** mandatory everywhere
- **Renovate** for Dependency Updates

---

## Workflow

- **Release cycle**: weekly, hotfix anytime
- **Feature Flags**: for incremental delivery
- **Reviewer rotation** for PRs
- **Small PRs** preferred
- **Pairing** optional with Cursor and Linear Integration

---

*Last updated: 2025-09-22*
